{"version":3,"file":"magicpen.esm.js","sources":["node_modules/rollup-plugin-node-globals/src/global.js","node_modules/process-es6/browser.js","lib/utils.js","lib/duplicateText.js","lib/rgbRegexp.js","lib/cssStyles.js","lib/platform.js","lib/supportsColor.js","lib/flattenBlocksInLines.js","lib/TextSerializer.js","lib/themeMapper.js","lib/HtmlSerializer.js","node_modules/color-diff/lib/diff.js","node_modules/color-diff/lib/convert.js","node_modules/color-diff/lib/palette.js","node_modules/color-diff/lib/index.js","node_modules/ansi-styles/index.js","lib/AnsiSerializer.js","lib/ColoredConsoleSerializer.js","lib/MagicPen.js"],"sourcesContent":["export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","var utils = {\n    extend: function (target) {\n        for (var i = 1; i < arguments.length; i += 1) {\n            var source = arguments[i];\n            Object.keys(source).forEach(function (key) {\n                target[key] = source[key];\n            });\n        }\n        return target;\n    },\n\n    calculateOutputEntrySize: function (outputEntry) {\n        if (outputEntry.size) {\n            return outputEntry.size;\n        }\n\n        var size;\n        switch (outputEntry.style) {\n        case 'text':\n            size = { width: String(outputEntry.args.content).length, height: 1 };\n            break;\n        case 'block':\n            size = utils.calculateSize(outputEntry.args);\n            break;\n        case 'raw':\n            var arg = outputEntry.args;\n            size = { width: arg.width, height: arg.height };\n            break;\n        default: size = { width: 0, height: 0 };\n        }\n\n        outputEntry.size = size;\n        return size;\n    },\n\n    calculateLineSize: function (line) {\n        var size = { height: 1, width: 0 };\n        line.forEach(function (outputEntry) {\n            var outputEntrySize = utils.calculateOutputEntrySize(outputEntry);\n            size.width += outputEntrySize.width;\n            size.height = Math.max(outputEntrySize.height, size.height);\n        });\n        return size;\n    },\n\n    calculateSize: function (lines) {\n        var size = { height: 0, width: 0 };\n        lines.forEach(function (line) {\n            var lineSize = utils.calculateLineSize(line);\n            size.height += lineSize.height;\n            size.width = Math.max(size.width, lineSize.width);\n        });\n        return size;\n    },\n\n    arrayEquals: function (a, b) {\n        if (a === b) {\n            return true;\n        }\n\n        if (!a || a.length !== b.length) {\n            return false;\n        }\n\n        for (var i = 0; i < a.length; i += 1) {\n            if (a[i] !== b[i]) {\n                return false;\n            }\n        }\n\n        return true;\n\n    },\n\n    escapeRegExp: function (text){\n        return text.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n    },\n\n    findFirst: function (arr, predicate, thisObj) {\n        var scope = thisObj || null;\n        for (var i = 0 ; i < arr.length ; i += 1) {\n            if (predicate.call(scope, arr[i], i, arr)) {\n                return arr[i];\n            }\n        }\n        return null;\n    },\n\n    getFunctionName: function (f) {\n        if (typeof f.name === 'string') {\n            return f.name;\n        }\n        var matchFunctionName = Function.prototype.toString.call(f).match(/function ([^\\(]+)/);\n        if (matchFunctionName) {\n            return matchFunctionName[1];\n        }\n\n        if (f === Object) {\n            return 'Object';\n        }\n        if (f === Function) {\n            return 'Function';\n        }\n    }\n};\n\nmodule.exports = utils;\n","var whitespaceCacheLength = 256;\nvar whitespaceCache = [''];\nfor (var i = 1; i <= whitespaceCacheLength; i += 1) {\n    whitespaceCache[i] = whitespaceCache[i - 1] + ' ';\n}\n\nfunction duplicateText(content, times) {\n    if (times < 0) {\n        return '';\n    }\n\n    var result = '';\n\n    if (content === ' ') {\n        if (times <= whitespaceCacheLength) {\n            return whitespaceCache[times];\n        }\n\n        var segment = whitespaceCache[whitespaceCacheLength];\n        var numberOfSegments = Math.floor(times / whitespaceCacheLength);\n        for (var i = 0; i < numberOfSegments; i += 1) {\n            result += segment;\n        }\n        result += whitespaceCache[times % whitespaceCacheLength];\n    } else {\n        for (var j = 0; j < times; j += 1) {\n            result += content;\n        }\n    }\n\n    return result;\n}\n\nmodule.exports = duplicateText;\n","module.exports =  /^(?:bg)?#(?:[0-9a-f]{3}|[0-9a-f]{6})$/i;\n","var cssStyles = {\n    bold: 'font-weight: bold',\n    dim: 'opacity: 0.7',\n    italic: 'font-style: italic',\n    underline: 'text-decoration: underline',\n    inverse: '-webkit-filter: invert(%100); filter: invert(100%)',\n    hidden: 'visibility: hidden',\n    strikeThrough: 'text-decoration: line-through',\n\n    black: 'color: black',\n    red: 'color: red',\n    green: 'color: green',\n    yellow: 'color: yellow',\n    blue: 'color: blue',\n    magenta: 'color: magenta',\n    cyan: 'color: cyan',\n    white: 'color: white',\n    gray: 'color: gray',\n\n    bgBlack: 'background-color: black',\n    bgRed: 'background-color: red',\n    bgGreen: 'background-color: green',\n    bgYellow: 'background-color: yellow',\n    bgBlue: 'background-color: blue',\n    bgMagenta: 'background-color: magenta',\n    bgCyan: 'background-color: cyan',\n    bgWhite: 'background-color: white'\n};\n\nObject.keys(cssStyles).forEach(function (styleName) {\n    cssStyles[styleName.toLowerCase()] = cssStyles[styleName];\n});\n\nmodule.exports = cssStyles;\n","/*globals Deno*/\nvar isNode = !!(typeof process !== 'undefined' && process.versions && process.versions.node);\n\nmodule.exports = (function () {\n    if (typeof Deno !== 'undefined') {\n        var env = {};\n        try {\n            env = Deno.env();\n        } catch (err) {\n          // Probably a permissions error because we don't have permission to read the environment variables\n          // Unfortunately the whole permissions API is async now:\n          // https://github.com/denoland/deno/pull/3200/files\n          // ... so we can't detect whether we do have access\n        }\n\n        return {\n            argv: Deno.args,\n            color: !Deno.noColor ? 1 : 0,\n            env: env,\n            runtime: 'deno'\n        };\n    } else if (isNode) {\n        var os = require('os');\n\n        return {\n            argv: process.argv,\n            env: process.env,\n            runtime: 'node',\n            getNodeRelease: os.release\n        };\n    } else {\n        return {\n            argv: [],\n            env: {},\n            runtime: 'browser'\n        };\n    }\n})();\n","var platform = require('./platform');\n\n// Fork from https://github.com/sindresorhus/has-flag\nvar hasFlag = function hasFlag(flag, argv) {\n  argv = argv || platform.argv;\n  var prefix = flag.indexOf('-') === 0 ? '' : flag.length === 1 ? '-' : '--';\n  var pos = argv.indexOf(prefix + flag);\n  var terminatorPos = argv.indexOf('--');\n  return pos !== -1 && (terminatorPos === -1 || pos < terminatorPos);\n};\n\n// Fork from https://github.com/chalk/supports-color\nvar env = platform.env;\n\nvar forceColor;\nif (hasFlag('no-color') || hasFlag('no-colors') || hasFlag('color=false') || hasFlag('color=never')) {\n  forceColor = 0;\n} else if (hasFlag('color') || hasFlag('colors') || hasFlag('color=true') || hasFlag('color=always')) {\n  forceColor = 1;\n} else if (platform.runtime === 'deno') {\n  forceColor = platform.color;\n}\n\nif ('FORCE_COLOR' in env) {\n  if (env.FORCE_COLOR === 'true') {\n    forceColor = 1;\n  } else if (env.FORCE_COLOR === 'false') {\n    forceColor = 0;\n  } else {\n    forceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n  }\n}\n\nfunction translateLevel(level) {\n  if (level === 0) {\n    return false;\n  }\n\n  return {\n    level: level,\n    hasBasic: true,\n    has256: level >= 2,\n    has16m: level >= 3\n  };\n}\n\nfunction supportsColor(stream) {\n  if (forceColor === 0) {\n    return 0;\n  }\n\n  if (hasFlag('color=16m') || hasFlag('color=full') || hasFlag('color=truecolor')) {\n    return 3;\n  }\n\n  if (hasFlag('color=256')) {\n    return 2;\n  }\n\n  if (stream && !stream.isTTY && forceColor === undefined) {\n    return 0;\n  }\n\n  var min = forceColor || 0;\n\n  if (env.TERM === 'dumb') {\n    return min;\n  }\n\n  if (platform.runtime === 'node' && process.platform === 'win32') {\n    // Node.js 7.5.0 is the first version of Node.js to include a patch to\n    // libuv that enables 256 color output on Windows. Anything earlier and it\n    // won't work. However, here we target Node.js 8 at minimum as it is an LTS\n    // release, and Node.js 7 is not. Windows 10 build 10586 is the first Windows\n    // release that supports 256 colors. Windows 10 build 14931 is the first release\n    // that supports 16m/TrueColor.\n    var osRelease = platform.getNodeRelease().split('.');\n    if (Number(process.versions.node.split('.')[0]) >= 8 && Number(osRelease[0]) >= 10 && Number(osRelease[2]) >= 10586) {\n      return Number(osRelease[2]) >= 14931 ? 3 : 2;\n    }\n\n    return 1;\n  }\n\n  if ('CI' in env) {\n    if (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI'].some(function (sign) {\n      return sign in env;\n    }) || env.CI_NAME === 'codeship') {\n      return 1;\n    }\n\n    return min;\n  }\n\n  if ('TEAMCITY_VERSION' in env) {\n    return (/^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0\n    );\n  }\n\n  if (env.COLORTERM === 'truecolor') {\n    return 3;\n  }\n\n  if ('TERM_PROGRAM' in env) {\n    var version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n    switch (env.TERM_PROGRAM) {\n      case 'iTerm.app':\n        return version >= 3 ? 3 : 2;\n      case 'Apple_Terminal':\n        return 2;\n      // No default\n    }\n  }\n\n  if (/-256(color)?$/i.test(env.TERM)) {\n    return 2;\n  }\n\n  if (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n    return 1;\n  }\n\n  if ('COLORTERM' in env) {\n    return 1;\n  }\n\n  return min;\n}\n\nfunction getSupportLevel(stream) {\n  var level = supportsColor(stream);\n  return translateLevel(level);\n}\n\nmodule.exports = {\n  supportsColor: getSupportLevel,\n  stdout: getSupportLevel(process.stdout),\n  stderr: getSupportLevel(process.stderr)\n};\n\n","var utils = require('./utils');\nvar duplicateText = require('./duplicateText');\n\nfunction createPadding(length, themes) {\n    return {\n        style: 'text',\n        args: {\n            content: duplicateText(' ', length),\n            styles: []\n        },\n        themes: themes\n    };\n}\n\nfunction lineContainsBlocks(line) {\n    return line.some(function (outputEntry) {\n        return outputEntry.style === 'block' ||\n            (outputEntry.style === 'text' && String(outputEntry.args.content).indexOf('\\n') !== -1);\n    });\n}\n\nfunction flattenBlocksInOutputEntry(outputEntry) {\n    switch (outputEntry.style) {\n    case 'text': return String(outputEntry.args.content).split('\\n').map(function (line) {\n        if (line === '') {\n            return [];\n        }\n\n        var args = { content: line, styles: outputEntry.args.styles };\n        return [{ style: 'text', args: args, themes: outputEntry.themes }];\n    });\n    case 'block': return flattenBlocksInLines(outputEntry.args);\n    default: return [];\n    }\n}\n\nfunction flattenBlocksInLine(line) {\n    if (line.length === 0) {\n       return [[]];\n    }\n\n    if (!lineContainsBlocks(line)) {\n        return [line];\n    }\n\n    var result = [];\n    var linesLengths = [];\n\n    var startIndex = 0;\n    line.forEach(function (outputEntry, blockIndex) {\n        var blockLines = flattenBlocksInOutputEntry(outputEntry);\n\n        var blockLinesLengths = blockLines.map(function (line) {\n            return utils.calculateLineSize(line).width;\n        });\n\n        var longestLineLength = Math.max.apply(null, blockLinesLengths);\n\n        blockLines.forEach(function (blockLine, index) {\n            var resultLine = result[index];\n\n            if (!resultLine) {\n                result[index] = resultLine = [];\n                linesLengths[index] = 0;\n            }\n\n            if (blockLine.length) {\n                var paddingLength = startIndex - linesLengths[index];\n                resultLine.push(createPadding(paddingLength, outputEntry.themes));\n                Array.prototype.push.apply(resultLine, blockLine);\n                linesLengths[index] = startIndex + blockLinesLengths[index];\n            }\n        });\n\n        startIndex += longestLineLength;\n    }, this);\n    return result;\n}\n\nfunction flattenBlocksInLines(lines) {\n    var result = [];\n    lines.forEach(function (line) {\n        flattenBlocksInLine(line).forEach(function (line) {\n            result.push(line);\n        });\n    });\n    return result;\n}\n\nmodule.exports = flattenBlocksInLines;\n","var flattenBlocksInLines = require('./flattenBlocksInLines');\n\nfunction TextSerializer() {}\n\nTextSerializer.prototype.format = 'text';\n\nTextSerializer.prototype.serialize = function (lines) {\n    lines = flattenBlocksInLines(lines);\n    return lines.map(this.serializeLine, this).join('\\n');\n};\n\nTextSerializer.prototype.serializeLine = function (line) {\n    return line.map(function (outputEntry) {\n        return this[outputEntry.style] ?\n            String(this[outputEntry.style](outputEntry.args, outputEntry.themes)) :\n            '';\n    }, this).join('');\n};\n\nTextSerializer.prototype.text = function (options) {\n    return String(options.content);\n};\n\nTextSerializer.prototype.block = function (content) {\n    return this.serialize(content);\n};\n\nTextSerializer.prototype.raw = function (options) {\n    return String(options.content(this));\n};\n\n\nmodule.exports = TextSerializer;\n","module.exports = function (theme, styles) {\n    if (styles.length === 1) {\n        var count = 0;\n        var stack = [];\n        var themeMapping = styles[0];\n        var themeStyles = theme.styles || {};\n        while(typeof themeMapping === 'string' && themeStyles[themeMapping]) {\n            themeMapping = themeStyles[themeMapping];\n            count += 1;\n            if (count > 100) {\n                var index = stack.indexOf(themeMapping);\n                stack.push(themeMapping);\n                if (index !== -1) {\n                    throw new Error('Your theme contains a loop: ' + stack.slice(index).join(' -> '));\n                }\n            }\n        }\n\n        return Array.isArray(themeMapping) ? themeMapping : [themeMapping];\n    }\n\n    return styles;\n};\n","var cssStyles = require('./cssStyles');\nvar rgbRegexp = require('./rgbRegexp');\nvar themeMapper = require('./themeMapper');\n\nfunction HtmlSerializer() {}\n\nHtmlSerializer.prototype.format = 'html';\n\nHtmlSerializer.prototype.serialize = function (lines) {\n    return '<div style=\"font-family: monospace; white-space: nowrap\">' + this.serializeLines(lines) + '</div>';\n};\n\nHtmlSerializer.prototype.serializeLines = function (lines) {\n    return lines.map(function (line) {\n        return '<div>' + (this.serializeLine(line).join('') || '&nbsp;') + '</div>';\n    }, this).join('');\n};\n\nHtmlSerializer.prototype.serializeLine = function (line) {\n    return line.map(function (outputEntry) {\n        return this[outputEntry.style] ?\n            this[outputEntry.style](outputEntry.args, outputEntry.themes) :\n            '';\n    }, this);\n};\n\nHtmlSerializer.prototype.block = function (content) {\n    return '<div style=\"display: inline-block; vertical-align: top\">' +\n        this.serializeLines(content) +\n        '</div>';\n};\n\nHtmlSerializer.prototype.text = function (options, themes) {\n    var content = String(options.content);\n\n    if (content === '') {\n        return '';\n    }\n\n    content = content\n        .replace(/&/g, '&amp;')\n        .replace(/ /g, '&nbsp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;');\n\n    var styles = themeMapper(themes.html || {}, options.styles);\n\n    if (styles.length > 0) {\n        var styleProperties = [];\n        for (var j = 0; j < styles.length; j += 1) {\n            var styleName = styles[j];\n            if (rgbRegexp.test(styleName)) {\n                if (styleName.substring(0, 2) === 'bg') {\n                    styleProperties.push('background-color: ' + styleName.substring(2));\n                } else {\n                    styleProperties.push('color: ' + styleName);\n                }\n            } else if (cssStyles[styleName]) {\n                styleProperties.push(cssStyles[styleName]);\n            }\n\n        }\n\n        if (styleProperties.length > 0) {\n            content = '<span style=\"' + styleProperties.join('; ') + '\">' + content + '</span>';\n        }\n    }\n    return content;\n};\n\nHtmlSerializer.prototype.raw = function (options) {\n    return String(options.content(this));\n};\n\nmodule.exports = HtmlSerializer;\n","/**\n * @author Markus Ekholm\n * @copyright 2012-2015 (c) Markus Ekholm <markus at botten dot org >\n * @license Copyright (c) 2012-2015, Markus Ekholm\n * All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *    * Redistributions of source code must retain the above copyright\n *      notice, this list of conditions and the following disclaimer.\n *    * Redistributions in binary form must reproduce the above copyright\n *      notice, this list of conditions and the following disclaimer in the\n *      documentation and/or other materials provided with the distribution.\n *    * Neither the name of the <organization> nor the\n *      names of its contributors may be used to endorse or promote products\n *      derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL MARKUS EKHOLM BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/**\n* EXPORTS\n*/\nexports.ciede2000 = ciede2000;\n\n/**\n* IMPORTS\n*/\nvar sqrt = Math.sqrt;\nvar pow = Math.pow;\nvar cos = Math.cos;\nvar atan2 = Math.atan2;\nvar sin = Math.sin;\nvar abs = Math.abs;\nvar exp = Math.exp;\nvar PI = Math.PI;\n\n/**\n * API FUNCTIONS\n */\n\n/**\n* Returns diff between c1 and c2 using the CIEDE2000 algorithm\n* @param {labcolor} c1    Should have fields L,a,b\n* @param {labcolor} c2    Should have fields L,a,b\n* @return {float}   Difference between c1 and c2\n*/\nfunction ciede2000(c1,c2)\n{\n  /**\n   * Implemented as in \"The CIEDE2000 Color-Difference Formula:\n   * Implementation Notes, Supplementary Test Data, and Mathematical Observations\"\n   * by Gaurav Sharma, Wencheng Wu and Edul N. Dalal.\n   */\n\n  // Get L,a,b values for color 1\n  var L1 = c1.L;\n  var a1 = c1.a;\n  var b1 = c1.b;\n\n  // Get L,a,b values for color 2\n  var L2 = c2.L;\n  var a2 = c2.a;\n  var b2 = c2.b;\n\n  // Weight factors\n  var kL = 1;\n  var kC = 1;\n  var kH = 1;\n\n  /**\n   * Step 1: Calculate C1p, C2p, h1p, h2p\n   */\n  var C1 = sqrt(pow(a1, 2) + pow(b1, 2)) //(2)\n  var C2 = sqrt(pow(a2, 2) + pow(b2, 2)) //(2)\n\n  var a_C1_C2 = (C1+C2)/2.0;             //(3)\n\n  var G = 0.5 * (1 - sqrt(pow(a_C1_C2 , 7.0) /\n                          (pow(a_C1_C2, 7.0) + pow(25.0, 7.0)))); //(4)\n\n  var a1p = (1.0 + G) * a1; //(5)\n  var a2p = (1.0 + G) * a2; //(5)\n\n  var C1p = sqrt(pow(a1p, 2) + pow(b1, 2)); //(6)\n  var C2p = sqrt(pow(a2p, 2) + pow(b2, 2)); //(6)\n\n  var hp_f = function(x,y) //(7)\n  {\n    if(x== 0 && y == 0) return 0;\n    else{\n      var tmphp = degrees(atan2(x,y));\n      if(tmphp >= 0) return tmphp\n      else           return tmphp + 360;\n    }\n  }\n\n  var h1p = hp_f(b1, a1p); //(7)\n  var h2p = hp_f(b2, a2p); //(7)\n\n  /**\n   * Step 2: Calculate dLp, dCp, dHp\n   */\n  var dLp = L2 - L1; //(8)\n  var dCp = C2p - C1p; //(9)\n\n  var dhp_f = function(C1, C2, h1p, h2p) //(10)\n  {\n    if(C1*C2 == 0)               return 0;\n    else if(abs(h2p-h1p) <= 180) return h2p-h1p;\n    else if((h2p-h1p) > 180)     return (h2p-h1p)-360;\n    else if((h2p-h1p) < -180)    return (h2p-h1p)+360;\n    else                         throw(new Error());\n  }\n  var dhp = dhp_f(C1,C2, h1p, h2p); //(10)\n  var dHp = 2*sqrt(C1p*C2p)*sin(radians(dhp)/2.0); //(11)\n\n  /**\n   * Step 3: Calculate CIEDE2000 Color-Difference\n   */\n  var a_L = (L1 + L2) / 2.0; //(12)\n  var a_Cp = (C1p + C2p) / 2.0; //(13)\n\n  var a_hp_f = function(C1, C2, h1p, h2p) { //(14)\n    if(C1*C2 == 0)                                      return h1p+h2p\n    else if(abs(h1p-h2p)<= 180)                         return (h1p+h2p)/2.0;\n    else if((abs(h1p-h2p) > 180) && ((h1p+h2p) < 360))  return (h1p+h2p+360)/2.0;\n    else if((abs(h1p-h2p) > 180) && ((h1p+h2p) >= 360)) return (h1p+h2p-360)/2.0;\n    else                                                throw(new Error());\n  }\n  var a_hp = a_hp_f(C1,C2,h1p,h2p); //(14)\n  var T = 1-0.17*cos(radians(a_hp-30))+0.24*cos(radians(2*a_hp))+\n    0.32*cos(radians(3*a_hp+6))-0.20*cos(radians(4*a_hp-63)); //(15)\n  var d_ro = 30 * exp(-(pow((a_hp-275)/25,2))); //(16)\n  var RC = sqrt((pow(a_Cp, 7.0)) / (pow(a_Cp, 7.0) + pow(25.0, 7.0)));//(17)\n  var SL = 1 + ((0.015 * pow(a_L - 50, 2)) /\n                sqrt(20 + pow(a_L - 50, 2.0)));//(18)\n  var SC = 1 + 0.045 * a_Cp;//(19)\n  var SH = 1 + 0.015 * a_Cp * T;//(20)\n  var RT = -2 * RC * sin(radians(2 * d_ro));//(21)\n  var dE = sqrt(pow(dLp /(SL * kL), 2) + pow(dCp /(SC * kC), 2) +\n                pow(dHp /(SH * kH), 2) + RT * (dCp /(SC * kC)) *\n                (dHp / (SH * kH))); //(22)\n  return dE;\n}\n\n/**\n * INTERNAL FUNCTIONS\n */\nfunction degrees(n) { return n*(180/PI); }\nfunction radians(n) { return n*(PI/180); }\n\n// Local Variables:\n// allout-layout: t\n// js-indent-level: 2\n// End:\n","/**\n * @author Markus Ekholm\n * @copyright 2012-2015 (c) Markus Ekholm <markus at botten dot org >\n * @license Copyright (c) 2012-2015, Markus Ekholm\n * All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *    * Redistributions of source code must retain the above copyright\n *      notice, this list of conditions and the following disclaimer.\n *    * Redistributions in binary form must reproduce the above copyright\n *      notice, this list of conditions and the following disclaimer in the\n *      documentation and/or other materials provided with the distribution.\n *    * Neither the name of the <organization> nor the\n *      names of its contributors may be used to endorse or promote products\n *      derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL MARKUS EKHOLM BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/**\n* EXPORTS\n*/\nexports.rgb_to_lab = rgb_to_lab;\n\n/**\n* IMPORTS\n*/\nvar pow  = Math.pow;\nvar sqrt = Math.sqrt;\n\n/**\n * API FUNCTIONS\n */\n\n/**\n* Returns c converted to labcolor.\n* @param {rgbcolor} c should have fields R,G,B\n* @return {labcolor} c converted to labcolor\n*/\nfunction rgb_to_lab(c)\n{\n  return xyz_to_lab(rgb_to_xyz(c))\n}\n\n/**\n* Returns c converted to xyzcolor.\n* @param {rgbcolor} c should have fields R,G,B\n* @return {xyzcolor} c converted to xyzcolor\n*/\nfunction rgb_to_xyz(c)\n{\n  // Based on http://www.easyrgb.com/index.php?X=MATH&H=02\n  var R = ( c.R / 255 );\n  var G = ( c.G / 255 );\n  var B = ( c.B / 255 );\n\n  if ( R > 0.04045 ) R = pow(( ( R + 0.055 ) / 1.055 ),2.4);\n  else               R = R / 12.92;\n  if ( G > 0.04045 ) G = pow(( ( G + 0.055 ) / 1.055 ),2.4);\n  else               G = G / 12.92;\n  if ( B > 0.04045 ) B = pow(( ( B + 0.055 ) / 1.055 ), 2.4);\n  else               B = B / 12.92;\n\n  R *= 100;\n  G *= 100;\n  B *= 100;\n\n  // Observer. = 2°, Illuminant = D65\n  var X = R * 0.4124 + G * 0.3576 + B * 0.1805;\n  var Y = R * 0.2126 + G * 0.7152 + B * 0.0722;\n  var Z = R * 0.0193 + G * 0.1192 + B * 0.9505;\n  return {'X' : X, 'Y' : Y, 'Z' : Z};\n}\n\n/**\n* Returns c converted to labcolor.\n* @param {xyzcolor} c should have fields X,Y,Z\n* @return {labcolor} c converted to labcolor\n*/\nfunction xyz_to_lab(c)\n{\n  // Based on http://www.easyrgb.com/index.php?X=MATH&H=07\n  var ref_Y = 100.000;\n  var ref_Z = 108.883;\n  var ref_X = 95.047; // Observer= 2°, Illuminant= D65\n  var Y = c.Y / ref_Y;\n  var Z = c.Z / ref_Z;\n  var X = c.X / ref_X;\n  if ( X > 0.008856 ) X = pow(X, 1/3);\n  else                X = ( 7.787 * X ) + ( 16 / 116 );\n  if ( Y > 0.008856 ) Y = pow(Y, 1/3);\n  else                Y = ( 7.787 * Y ) + ( 16 / 116 );\n  if ( Z > 0.008856 ) Z = pow(Z, 1/3);\n  else                Z = ( 7.787 * Z ) + ( 16 / 116 );\n  var L = ( 116 * Y ) - 16;\n  var a = 500 * ( X - Y );\n  var b = 200 * ( Y - Z );\n  return {'L' : L , 'a' : a, 'b' : b};\n}\n\n// Local Variables:\n// allout-layout: t\n// js-indent-level: 2\n// End:\n","/**\n * @author Markus Ekholm\n * @copyright 2012-2015 (c) Markus Ekholm <markus at botten dot org >\n * @license Copyright (c) 2012-2015, Markus Ekholm\n * All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *    * Redistributions of source code must retain the above copyright\n *      notice, this list of conditions and the following disclaimer.\n *    * Redistributions in binary form must reproduce the above copyright\n *      notice, this list of conditions and the following disclaimer in the\n *      documentation and/or other materials provided with the distribution.\n *    * Neither the name of the <organization> nor the\n *      names of its contributors may be used to endorse or promote products\n *      derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL MARKUS EKHOLM BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/**\n* EXPORTS\n*/\nexports.map_palette     = map_palette;\nexports.palette_map_key = palette_map_key;\n\n/**\n* IMPORTS\n*/\nvar color_diff    = require('./diff');\nvar color_convert = require('./convert');\n\n/**\n * API FUNCTIONS\n */\n\n/**\n* Returns the hash key used for a {rgbcolor} in a {palettemap}\n* @param {rgbcolor} c should have fields R,G,B\n* @return {string}\n*/\nfunction palette_map_key(c)\n{\n  return \"R\" + c.R + \"B\" + c.B + \"G\" + c.G;\n}\n\n/**\n* Returns a mapping from each color in a to the closest color in b\n* @param [{rgbcolor}] a each element should have fields R,G,B\n* @param [{rgbcolor}] b each element should have fields R,G,B\n* @param 'type' should be the string 'closest' or 'furthest'\n* @return {palettemap}\n*/\nfunction map_palette(a, b, type)\n{\n  var c = {};\n  type = type || 'closest';\n  for (var idx1 = 0; idx1 < a.length; idx1 += 1){\n    var color1 = a[idx1];\n    var best_color      = undefined;\n    var best_color_diff = undefined;\n    for (var idx2 = 0; idx2 < b.length; idx2 += 1)\n    {\n      var color2 = b[idx2];\n      var current_color_diff = diff(color1,color2);\n\n      if((best_color == undefined) || ((type === 'closest') && (current_color_diff < best_color_diff)))\n      {\n        best_color      = color2;\n        best_color_diff = current_color_diff;\n        continue;\n      }\n      if((type === 'furthest') && (current_color_diff > best_color_diff))\n      {\n        best_color      = color2;\n        best_color_diff = current_color_diff;\n        continue;\n      }\n    }\n    c[palette_map_key(color1)] = best_color;\n  }\n  return c;\n}\n\n/**\n * INTERNAL FUNCTIONS\n */\n\nfunction diff(c1,c2)\n{\n  c1 = color_convert.rgb_to_lab(c1);\n  c2 = color_convert.rgb_to_lab(c2);\n  return color_diff.ciede2000(c1,c2);\n}\n\n// Local Variables:\n// allout-layout: t\n// js-indent-level: 2\n// End:\n","'use strict';\n\nvar diff = require('./diff');\nvar convert = require('./convert');\nvar palette = require('./palette');\n\nvar color = module.exports = {};\n\ncolor.diff             = diff.ciede2000;\ncolor.rgb_to_lab       = convert.rgb_to_lab;\ncolor.map_palette      = palette.map_palette;\ncolor.palette_map_key  = palette.palette_map_key;\n\ncolor.closest = function(target, relative) {\n    var key = color.palette_map_key(target);\n\n    var result = color.map_palette([target], relative, 'closest');\n\n    return result[key];\n};\n\ncolor.furthest = function(target, relative) {\n    var key = color.palette_map_key(target);\n\n    var result = color.map_palette([target], relative, 'furthest');\n\n    return result[key];\n};\n","'use strict';\n\nvar styles = module.exports = {\n\tmodifiers: {\n\t\treset: [0, 0],\n\t\tbold: [1, 22], // 21 isn't widely supported and 22 does the same thing\n\t\tdim: [2, 22],\n\t\titalic: [3, 23],\n\t\tunderline: [4, 24],\n\t\tinverse: [7, 27],\n\t\thidden: [8, 28],\n\t\tstrikethrough: [9, 29]\n\t},\n\tcolors: {\n\t\tblack: [30, 39],\n\t\tred: [31, 39],\n\t\tgreen: [32, 39],\n\t\tyellow: [33, 39],\n\t\tblue: [34, 39],\n\t\tmagenta: [35, 39],\n\t\tcyan: [36, 39],\n\t\twhite: [37, 39],\n\t\tgray: [90, 39]\n\t},\n\tbgColors: {\n\t\tbgBlack: [40, 49],\n\t\tbgRed: [41, 49],\n\t\tbgGreen: [42, 49],\n\t\tbgYellow: [43, 49],\n\t\tbgBlue: [44, 49],\n\t\tbgMagenta: [45, 49],\n\t\tbgCyan: [46, 49],\n\t\tbgWhite: [47, 49]\n\t}\n};\n\n// fix humans\nstyles.colors.grey = styles.colors.gray;\n\nObject.keys(styles).forEach(function (groupName) {\n\tvar group = styles[groupName];\n\n\tObject.keys(group).forEach(function (styleName) {\n\t\tvar style = group[styleName];\n\n\t\tstyles[styleName] = group[styleName] = {\n\t\t\topen: '\\u001b[' + style[0] + 'm',\n\t\t\tclose: '\\u001b[' + style[1] + 'm'\n\t\t};\n\t});\n\n\tObject.defineProperty(styles, groupName, {\n\t\tvalue: group,\n\t\tenumerable: false\n\t});\n});\n","var utils = require('./utils');\nvar TextSerializer = require('./TextSerializer');\nvar colorDiff = require('color-diff');\nvar rgbRegexp = require('./rgbRegexp');\nvar themeMapper = require('./themeMapper');\n\nvar cacheSize = 0;\nvar maxColorCacheSize = 1024;\n\nvar ansiStyles = utils.extend({}, require('ansi-styles'));\nObject.keys(ansiStyles).forEach(function (styleName) {\n    ansiStyles[styleName.toLowerCase()] = ansiStyles[styleName];\n});\n\nfunction AnsiSerializer() {}\n\nAnsiSerializer.prototype = new TextSerializer();\n\nAnsiSerializer.prototype.format = 'ansi';\n\nvar colorPalettes = {\n    16: {\n        '#000000': 'black',\n        '#ff0000': 'red',\n        '#00ff00': 'green',\n        '#ffff00': 'yellow',\n        '#0000ff': 'blue',\n        '#ff00ff': 'magenta',\n        '#00ffff': 'cyan',\n        '#ffffff': 'white',\n        '#808080': 'gray'\n    },\n    256: {}\n};\n\nvar diffPalettes = {};\n\nfunction convertColorToObject(color) {\n    if (color.length < 6) {\n        // Allow CSS shorthand\n        color = color.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i, '$1$1$2$2$3$3');\n    }\n    // Split color into red, green, and blue components\n    var hexMatch = color.match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i);\n    if (hexMatch) {\n        return {\n            R: parseInt(hexMatch[1], 16),\n            G: parseInt(hexMatch[2], 16),\n            B: parseInt(hexMatch[3], 16)\n        };\n    }\n}\n\nfunction toHexColor(colorObject) {\n    var hexString = (Math.round(colorObject.R) * 0x10000 + Math.round(colorObject.G) * 0x100 + Math.round(colorObject.B)).toString(16);\n    return '#' + ('00000'.substr(0, 6 - hexString.length)) + hexString;\n}\n\nfunction firstUp(text) {\n    return text.substring(0, 1).toUpperCase() + text.substring(1);\n}\n\ndiffPalettes[16] = Object.keys(colorPalettes[16]).map(convertColorToObject);\ndiffPalettes['bg16'] = Object.keys(colorPalettes[16]).filter(function (color) {\n    return color !== \"#808080\";\n}).map(convertColorToObject);\ndiffPalettes[256] = [].concat(diffPalettes[16]);\nvar nextAnsiColorNumber = 16;\nfunction registerNext256PaletteEntry(obj) {\n    diffPalettes[256].push(obj);\n    colorPalettes[256][toHexColor(obj)] = nextAnsiColorNumber;\n    nextAnsiColorNumber += 1;\n}\n\nfor (var r = 0 ; r < 6 ; r += 1) {\n    for (var g = 0 ; g < 6 ; g += 1) {\n        for (var b = 0 ; b < 6 ; b += 1) {\n            registerNext256PaletteEntry({\n                R: Math.round(r * 256 / 6),\n                G: Math.round(g * 256 / 6),\n                B: Math.round(b * 256 / 6)\n            });\n        }\n    }\n}\n\n[\n    0x08, 0x12, 0x1c, 0x26, 0x30, 0x3a, 0x44, 0x4e, 0x58, 0x60, 0x66, 0x76,\n    0x80, 0x8a, 0x94, 0x9e, 0xa8, 0xb2, 0xbc, 0xc6, 0xd0, 0xda, 0xe4, 0xee\n].forEach(function (value) {\n    registerNext256PaletteEntry({R: value, G: value, B: value});\n});\n\nAnsiSerializer.prototype.text = function (options, themes) {\n    var content = String(options.content);\n    if (content === '') {\n        return '';\n    }\n\n    var styles = themeMapper(themes.ansi || {}, options.styles);\n\n    if (styles.length > 0) {\n        for (var i = styles.length -1; i >= 0; i -= 1) {\n            var styleName = styles[i];\n\n            if (ansiStyles[styleName]) {\n                content = ansiStyles[styleName].open + content + ansiStyles[styleName].close;\n            } else if (rgbRegexp.test(styleName)) {\n                var originalStyleName = styleName;\n                var isBackgroundColor = styleName.substring(0, 2) === 'bg';\n                var colorName = isBackgroundColor ? styleName.substring(2) : styleName;\n\n                var color16Hex = toHexColor(colorDiff.closest(convertColorToObject(colorName),\n                                                              diffPalettes[isBackgroundColor ? 'bg16' : 16]));\n                var closestColor16 = colorPalettes[16][color16Hex];\n\n                var color256Hex = toHexColor(colorDiff.closest(convertColorToObject(colorName), diffPalettes[256]));\n                var closest256ColorIndex = colorPalettes[256][color256Hex];\n\n                if (isBackgroundColor) {\n                    styleName = 'bg' + firstUp(closestColor16);\n                } else {\n                    styleName = closestColor16;\n                }\n\n                var open = ansiStyles[styleName].open;\n                var close = ansiStyles[styleName].close;\n                if (color16Hex !== color256Hex) {\n                    open += '\\x1b[' + (isBackgroundColor ? 48 : 38) + ';5;' + closest256ColorIndex + 'm';\n                }\n                if (cacheSize < maxColorCacheSize) {\n                    ansiStyles[originalStyleName] = {open: open, close: close};\n                    cacheSize += 1;\n                }\n\n                content = open + content + close;\n            }\n        }\n    }\n\n    return content;\n};\n\nmodule.exports = AnsiSerializer;\n","var cssStyles = require('./cssStyles');\nvar flattenBlocksInLines = require('./flattenBlocksInLines');\nvar rgbRegexp = require('./rgbRegexp');\nvar themeMapper = require('./themeMapper');\n\nfunction ColoredConsoleSerializer() {}\n\nColoredConsoleSerializer.prototype.format = 'coloredConsole';\n\nColoredConsoleSerializer.prototype.serialize = function (lines) {\n    var formatString = '';\n    var styleStrings = [];\n    this.serializeLines(flattenBlocksInLines(lines)).forEach(function (entry) {\n        if (entry) {\n            formatString += entry[0];\n            if (entry.length > 1) {\n                styleStrings.push(entry[1]);\n            }\n        }\n    });\n    return [formatString].concat(styleStrings);\n};\n\nColoredConsoleSerializer.prototype.serializeLines = function (lines) {\n    var result = [];\n    lines.forEach(function (line, i) {\n        if (i > 0) {\n            result.push(['%c\\n ', '']);\n        }\n        Array.prototype.push.apply(result, this.serializeLine(line));\n    }, this);\n    return result;\n};\n\nColoredConsoleSerializer.prototype.serializeLine = function (line) {\n    var result = [];\n    line.forEach(function (outputEntry) {\n        if (this[outputEntry.style]) {\n            result.push(this[outputEntry.style](outputEntry.args, outputEntry.themes));\n        }\n    }, this);\n    return result;\n};\n\nColoredConsoleSerializer.prototype.block = function (content) {\n    return this.serializeLines(content);\n};\n\nColoredConsoleSerializer.prototype.text = function (options, themes) {\n    var content = String(options.content);\n    if (content === '') {\n        return '';\n    }\n\n    var styles = themeMapper(themes.coloredConsole || {}, options.styles);\n\n    var result = ['%c' + content.replace(/%/g, '%%')];\n    var styleProperties = [];\n\n    if (styles.length > 0) {\n        for (var i = 0; i < styles.length; i += 1) {\n            var styleName = styles[i];\n            if (rgbRegexp.test(styleName)) {\n                if (styleName.substring(0, 2) === 'bg') {\n                    styleProperties.push('background-color: ' + styleName.substring(2));\n                } else {\n                    styleProperties.push('color: ' + styleName);\n                }\n            } else if (cssStyles[styleName]) {\n                styleProperties.push(cssStyles[styleName]);\n            }\n        }\n    }\n    result.push(styleProperties.join('; '));\n    return result;\n};\n\nColoredConsoleSerializer.prototype.raw = function (options) {\n    return String(options.content(this));\n};\n\nmodule.exports = ColoredConsoleSerializer;\n","/*global window*/\nvar utils = require('./utils');\nvar extend = utils.extend;\nvar duplicateText = require('./duplicateText');\nvar rgbRegexp = require('./rgbRegexp');\nvar cssStyles = require('./cssStyles');\n\nvar builtInStyleNames = [\n    'bold', 'dim', 'italic', 'underline', 'inverse', 'hidden',\n    'strikeThrough', 'black', 'red', 'green', 'yellow', 'blue',\n    'magenta', 'cyan', 'white', 'gray', 'bgBlack', 'bgRed',\n    'bgGreen', 'bgYellow', 'bgBlue', 'bgMagenta', 'bgCyan',\n    'bgWhite'\n];\n\nfunction MagicPen(options) {\n    if (!(this instanceof MagicPen)) {\n        return new MagicPen(options);\n    }\n\n    options = options || {};\n\n    if (typeof options === \"string\") {\n        options = {format: options };\n    }\n\n    var indentationWidth = 'indentationWidth' in options ?\n        options.indentationWidth : 2;\n    this.indentationWidth = Math.max(indentationWidth, 0);\n\n    this.indentationLevel = 0;\n    this.output = [[]];\n    this.styles = Object.create(null);\n    this.installedPlugins = [];\n    // Ready to be cloned individually:\n    this._themes = {};\n    Object.keys(MagicPen.serializers).forEach(function (serializerName) {\n        this._themes[serializerName] = { styles: {} };\n    }, this);\n    this.preferredWidth = (!process.browser && process.stdout.columns) || 80;\n    if (options.format) {\n        this.format = options.format;\n    }\n}\n\nif (typeof exports === 'object' && typeof exports.nodeName !== 'string' && require('./supportsColor').stdout) {\n    MagicPen.defaultFormat = 'ansi';\n} else if (typeof window !== 'undefined' && typeof window.navigator !== 'undefined') {\n    if (window._phantom || window.mochaPhantomJS || (window.__karma__ && window.__karma__.config.captureConsole)) {\n        MagicPen.defaultFormat = 'ansi'; // colored console\n    } else {\n        MagicPen.defaultFormat = 'html'; // Browser\n    }\n} else {\n    MagicPen.defaultFormat = 'text'; // Plain text\n}\n\nMagicPen.prototype.newline = MagicPen.prototype.nl = function (count) {\n    if (typeof count === 'undefined') {\n        count = 1;\n    }\n\n    if (count === 0) {\n        return this;\n    }\n\n    for (var i = 0; i < count; i += 1) {\n        this.output.push([]);\n    }\n    return this;\n};\n\nMagicPen.serializers = {};\n[\n    require('./TextSerializer'),\n    require('./HtmlSerializer'),\n    require('./AnsiSerializer'),\n    require('./ColoredConsoleSerializer')\n].forEach(function (serializer) {\n    MagicPen.serializers[serializer.prototype.format] = serializer;\n});\n\nfunction hasSameTextStyling(a, b) {\n    if (!a || !b || a.style !== 'text' || b.style !== 'text') {\n        return false;\n    }\n\n    return utils.arrayEquals(a.args.styles, b.args.styles) && a.themes === b.themes;\n}\n\nfunction normalizeLine(line) {\n    if (line.length === 0) {\n        return line;\n    }\n\n    var result = [line[0]];\n    for (var i = 1; i < line.length; i += 1) {\n        var lastEntry = result[result.length - 1];\n        var entry = line[i];\n        if (entry.style === 'text' && entry.args.content === '') {\n            continue;\n        }\n        if (hasSameTextStyling(lastEntry, entry)) {\n            result[result.length - 1] = {\n                style: lastEntry.style,\n                args: {\n                    content: lastEntry.args.content + entry.args.content,\n                    styles: lastEntry.args.styles\n                },\n                themes: lastEntry.themes\n            };\n        } else {\n            result.push(entry);\n        }\n    }\n\n    return result;\n}\n\nMagicPen.prototype.write = function (options) {\n    if (this.styles[options.style]) {\n        this.styles[options.style].apply(this, options.args);\n        return this;\n    }\n    var lastLine = this.output[this.output.length - 1];\n    var lastEntry = lastLine[lastLine.length - 1];\n    if (hasSameTextStyling(lastEntry, options)) {\n        lastLine[lastLine.length - 1] = {\n            style: lastEntry.style,\n            args: {\n                content: lastEntry.args.content + options.args.content,\n                styles: lastEntry.args.styles\n            },\n            themes: this._themes\n        };\n    } else {\n        lastLine.push(options);\n    }\n\n    return this;\n};\n\nMagicPen.prototype.indentLines = function () {\n    this.indentationLevel += 1;\n    return this;\n};\n\nMagicPen.prototype.indent = MagicPen.prototype.i = function () {\n    for (var i = 0; i < this.indentationLevel; i += 1) {\n        this.space(this.indentationWidth);\n    }\n    return this;\n};\n\nMagicPen.prototype.outdentLines = function () {\n    this.indentationLevel = Math.max(0, this.indentationLevel - 1);\n    return this;\n};\n\nMagicPen.prototype.addStyle = function (style, handler, allowRedefinition) {\n    if (this[style] === false || ((this.hasOwnProperty(style) || MagicPen.prototype[style]) && !Object.prototype.hasOwnProperty.call(this.styles, style) && builtInStyleNames.indexOf(style) === -1)) {\n        throw new Error('\"' + style + '\" style cannot be defined, it clashes with a built-in attribute');\n    }\n\n    // Refuse to redefine a built-in style or a style already defined directly on this pen unless allowRedefinition is true:\n    if (this.hasOwnProperty(style) || builtInStyleNames.indexOf(style) !== -1) {\n        var existingType = typeof this[style];\n        if (existingType === 'function') {\n            if (!allowRedefinition) {\n                throw new Error('\"' + style + '\" style is already defined, set 3rd arg (allowRedefinition) to true to define it anyway');\n            }\n        }\n    }\n    if (this._stylesHaveNotBeenClonedYet) {\n        this.styles = Object.create(this.styles);\n        this._stylesHaveNotBeenClonedYet = false;\n    }\n\n    this.styles[style] = handler;\n    this[style] = function () {\n        handler.apply(this, arguments);\n        return this;\n    };\n    return this;\n};\n\nMagicPen.prototype.toString = function (format) {\n    if (format && this.format && format !== this.format) {\n        throw new Error('A pen with format: ' + this.format + ' cannot be serialized to: ' + format);\n    }\n\n    format = this.format || format || 'text';\n    if (format === 'auto') {\n        format = MagicPen.defaultFormat;\n    }\n    var theme = this._themes[format] || {};\n    var serializer = new MagicPen.serializers[format]();\n    return serializer.serialize(this.output);\n};\n\nMagicPen.prototype.text = function () {\n    var content = arguments[0];\n    if (content === '') {\n        return this;\n    }\n\n    var styles = new Array(arguments.length - 1);\n    for (var i = 1; i < arguments.length; i += 1) {\n        styles[i - 1] = arguments[i];\n    }\n\n    content = String(content);\n    if (content.indexOf('\\n') !== -1) {\n        var lines = content.split(/\\n/);\n        lines.forEach(function (lineContent, index) {\n            if (lineContent.length) {\n                this.write({\n                    style: 'text',\n                    args: { content: lineContent, styles: styles },\n                    themes: this._themes\n                });\n            }\n            if (index < lines.length - 1) {\n                this.nl();\n            }\n        }, this);\n        return this;\n    } else {\n        return this.write({\n            style: 'text',\n            args: { content: content, styles: styles },\n            themes: this._themes\n        });\n    }\n};\n\nMagicPen.prototype.removeFormatting = function () {\n    var result = this.clone();\n    this.output.forEach(function (line, index) {\n        result.output[index] = normalizeLine(line.map(function (outputEntry) {\n            return outputEntry.style === 'text' ?\n                { style: 'text', args: { content: outputEntry.args.content, styles: [] }, themes: outputEntry.themes } :\n                outputEntry;\n        }));\n    });\n    result.indentationLevel = this.indentationLevel;\n    return result;\n};\n\nMagicPen.prototype.getContentFromArguments = function (args) {\n    var clone;\n    if (args[0].isMagicPen) {\n        this.ensureCompatibleFormat(args[0].format);\n        return args[0];\n    } else if (typeof args[0] === 'function') {\n        clone = this.clone();\n        args[0].call(clone, clone);\n        return clone;\n    } else if (typeof args[0] === 'string' && args.length === 1) {\n        clone = this.clone();\n        clone.text(args[0]);\n        return clone;\n    } else if (typeof args[0] === 'string') {\n        clone = this.clone();\n        clone[args[0]].apply(clone, Array.prototype.slice.call(args, 1));\n        return clone;\n    } else {\n        throw new Error('Requires the arguments to be:\\n' +\n                        'a pen or\\n' +\n                        'a callback appending content to a pen or\\n' +\n                        'a style and arguments for that style or\\n' +\n                        'just a string.');\n    }\n};\n\nMagicPen.prototype.isMultiline = function () {\n    return this.output.length > 1 || this.size().height > 1;\n};\n\nMagicPen.prototype.isAtStartOfLine = function () {\n    return this.output.length === 0 || this.output[this.output.length - 1].length === 0;\n};\n\nMagicPen.prototype.isBlock = function () {\n    return this.output.length === 1 &&\n        this.output[0].length === 1 &&\n        this.output[0][0].style === 'block';\n};\n\nMagicPen.prototype.ensureCompatibleFormat = function (format) {\n    if (format && this.format && format !== this.format) {\n        throw new Error('This pen is only compatible with the format: ' + this.format);\n    }\n};\n\nMagicPen.prototype.block = function () {\n    var pen = this.getContentFromArguments(arguments);\n\n    var blockOutput = pen.output.map(function (line) {\n        return [].concat(line);\n    });\n    return this.write({ style: 'block', args: blockOutput, themes: this._themes });\n};\n\nfunction isRawOutput(options) {\n    return options &&\n        typeof options === 'object' &&\n        typeof options.width === 'number' &&\n        typeof options.height === 'number' && (\n            typeof options.content === 'function' ||\n                typeof options.content === 'string'\n        );\n}\n\nMagicPen.prototype.alt = function (options) {\n    var format = this.format;\n    if (!format) {\n        throw new Error('The alt method is only supported on a pen where the format has already been set');\n    }\n\n    var outputProperty = options[format];\n\n    if (typeof outputProperty === 'undefined') {\n        if (options.fallback) {\n            return this.append(options.fallback);\n        } else {\n            // Nothing to do for this format, just NOOP:\n            return this;\n        }\n    }\n\n    if (typeof outputProperty === 'string' || isRawOutput(outputProperty)) {\n        return this.raw(outputProperty);\n    } else {\n        return this.append(outputProperty);\n    }\n};\n\nMagicPen.prototype.raw = function (options) {\n    var format = this.format;\n    if (!format) {\n        throw new Error('The raw method is only supported on a pen where the format has already been set');\n    }\n\n    if (typeof options === 'string') {\n        return this.write({\n            style: 'raw',\n            args: {\n                height: 0,\n                width: 0,\n                content: function () {\n                    return options;\n                }\n            },\n            themes: this._themes\n        });\n    }\n\n    if (isRawOutput(options)) {\n        if (typeof options.content === 'string') {\n            options = extend({}, options);\n            var content = options.content;\n            options.content = function () {\n                return content;\n            };\n        }\n\n        return this.write({ style: 'raw', args: options, themes: this._themes });\n    }\n\n    throw new Error('Raw ' + this.format + ' content needs to adhere to one of the following forms:\\n' +\n                    'a string of raw content\\n' +\n                    'a function returning a string of raw content or\\n' +\n                    'an object with the following form { width: <number>, height: <number>, content: <string function() {}|string> }');\n};\n\nfunction amend(output, pen) {\n    var lastLine = output[output.length - 1].slice();\n    var newOutput = output.slice(0, -1);\n    var lastEntry = lastLine[lastLine.length - 1];\n    if (lastEntry && lastEntry.style === 'block') {\n        lastLine[lastLine.length - 1] = {\n            style: 'block',\n            args: amend(lastEntry.args, pen),\n            themes: pen._themes\n        };\n        newOutput[output.length - 1] = lastLine;\n    } else {\n        Array.prototype.push.apply(lastLine, pen.output[0]);\n        newOutput[output.length - 1] = normalizeLine(lastLine);\n        newOutput.push.apply(newOutput, pen.output.slice(1));\n    }\n\n    return newOutput;\n}\n\nMagicPen.prototype.amend = function () {\n    var pen = this.getContentFromArguments(arguments);\n\n    if (pen.isEmpty()) {\n        return this;\n    }\n\n    this.output = amend(this.output, pen);\n\n    return this;\n};\n\nMagicPen.prototype.append = function () {\n    var pen = this.getContentFromArguments(arguments);\n\n    if (pen.isEmpty()) {\n        return this;\n    }\n\n    var lastLine = this.output[this.output.length - 1];\n    Array.prototype.push.apply(lastLine, pen.output[0]);\n    this.output[this.output.length - 1] = normalizeLine(lastLine);\n\n    this.output.push.apply(this.output, pen.output.slice(1));\n\n    return this;\n};\n\nMagicPen.prototype.prependLinesWith = function () {\n    var pen = this.getContentFromArguments(arguments);\n\n    if (pen.isEmpty()) {\n        return this;\n    }\n\n    if (pen.output.length > 1) {\n        throw new Error('PrependLinesWith only supports a pen with single line content');\n    }\n\n    var height = this.size().height;\n    var output = this.clone();\n    output.block(function () {\n        for (var i = 0; i < height; i += 1) {\n            if (i > 0) {\n                this.nl();\n            }\n            this.append(pen);\n        }\n    });\n    output.block(this);\n\n    this.output = output.output;\n    return this;\n};\n\nMagicPen.prototype.space = MagicPen.prototype.sp = function (count) {\n    if (count === 0) {\n        return this;\n    }\n\n    if (typeof count === 'undefined') {\n        count = 1;\n    }\n\n    return this.text(duplicateText(' ', count));\n};\n\nbuiltInStyleNames.forEach(function (textStyle) {\n    MagicPen.prototype[textStyle] = MagicPen.prototype[textStyle.toLowerCase()] = function (content) {\n        return this.text(content, textStyle);\n    };\n});\n\nMagicPen.prototype.clone = function (format) {\n    if (!this.isEmpty()) {\n        this.ensureCompatibleFormat(format);\n    }\n\n    function MagicPenClone() {}\n    MagicPenClone.prototype = this;\n    var clonedPen = new MagicPenClone();\n    clonedPen.styles = this.styles;\n    clonedPen._stylesHaveNotBeenClonedYet = true;\n    clonedPen.indentationLevel = 0;\n    clonedPen.output = [[]];\n    clonedPen.installedPlugins = [];\n    clonedPen._themes = this._themes;\n    clonedPen._themesHaveNotBeenClonedYet = true;\n    clonedPen.format = format || this.format;\n    clonedPen.parent = this;\n    return clonedPen;\n};\n\nMagicPen.prototype.isMagicPen = true;\n\nMagicPen.prototype.size = function () {\n    return utils.calculateSize(this.output);\n};\n\nMagicPen.prototype.use = function (plugin) {\n    var existingPlugin = utils.findFirst(this.installedPlugins, function (installedPlugin) {\n        if (installedPlugin === plugin) {\n            return true;\n        } else if (typeof plugin === 'function' && typeof installedPlugin === 'function') {\n            var pluginName = utils.getFunctionName(plugin);\n            return pluginName !== '' && pluginName === utils.getFunctionName(installedPlugin);\n        } else {\n            return installedPlugin.name === plugin.name;\n        }\n    });\n\n    if (existingPlugin) {\n        if (existingPlugin === plugin || (typeof plugin.version !== 'undefined' && plugin.version === existingPlugin.version)) {\n            // No-op\n            return this;\n        } else {\n            throw new Error(\"Another instance of the plugin '\" + plugin.name + \"' \" +\n                            \"is already installed\" +\n                            (typeof existingPlugin.version !== 'undefined' ?\n                                ' (version ' + existingPlugin.version +\n                                (typeof plugin.version !== 'undefined' ?\n                                    ', trying to install ' + plugin.version : '') +\n                                ')' : '') +\n                            \". Please check your node_modules folder for unmet peerDependencies.\");\n        }\n    }\n\n    if ((typeof plugin !== 'function' && (typeof plugin !== 'object' || typeof plugin.installInto !== 'function')) ||\n        (typeof plugin.name !== 'undefined' && typeof plugin.name !== 'string') ||\n        (typeof plugin.dependencies !== 'undefined' && !Array.isArray(plugin.dependencies))) {\n        throw new Error('Plugins must be functions or adhere to the following interface\\n' +\n                        '{\\n' +\n                        '  name: <an optional plugin name>,\\n' +\n                        '  version: <an optional semver version string>,\\n' +\n                        '  dependencies: <an optional list of dependencies>,\\n' +\n                        '  installInto: <a function that will update the given magicpen instance>\\n' +\n                        '}');\n    }\n\n    if (plugin.dependencies) {\n        var instance = this;\n        var thisAndParents = [];\n        do {\n            thisAndParents.push(instance);\n            instance = instance.parent;\n        } while (instance);\n        var unfulfilledDependencies = plugin.dependencies.filter(function (dependency) {\n            return !thisAndParents.some(function (instance) {\n                return instance.installedPlugins.some(function (plugin) {\n                    return plugin.name === dependency;\n                });\n            });\n        });\n\n        if (unfulfilledDependencies.length === 1) {\n            throw new Error(plugin.name + ' requires plugin ' + unfulfilledDependencies[0]);\n        } else if (unfulfilledDependencies.length > 1) {\n            throw new Error(plugin.name + ' requires plugins ' +\n                            unfulfilledDependencies.slice(0, -1).join(', ') +\n                            ' and ' + unfulfilledDependencies[unfulfilledDependencies.length - 1]);\n        }\n    }\n\n    this.installedPlugins.push(plugin);\n    if (typeof plugin === 'function') {\n        plugin(this);\n    } else {\n        plugin.installInto(this);\n    }\n\n    return this; // for chaining\n};\n\nMagicPen.prototype.installPlugin = MagicPen.prototype.use; // Legacy alias\n\nfunction replaceText(output, outputArray, regexp, cb) {\n    var replacedOutput = output;\n    outputArray.forEach(function (line, i) {\n        if (i > 0) {\n            replacedOutput.nl();\n        }\n\n        line.forEach(function (outputEntry, j) {\n            if (outputEntry.style === 'block') {\n                return replacedOutput.output[replacedOutput.output.length - 1].push({\n                    style: 'block',\n                    args: replaceText(output.clone(), outputEntry.args, regexp, cb),\n                    themes: outputEntry.themes\n                });\n            } else if (outputEntry.style !== 'text') {\n                return replacedOutput.output[replacedOutput.output.length - 1].push(outputEntry);\n            }\n\n            if (regexp.global) {\n                regexp.lastIndex = 0;\n            }\n            var m;\n            var first = true;\n            var lastIndex = 0;\n            var text = outputEntry.args.content;\n            var styles = outputEntry.args.styles;\n            while ((m = regexp.exec(text)) !== null && (regexp.global || first)) {\n                if (lastIndex < m.index) {\n                    replacedOutput.text.apply(replacedOutput, [text.substring(lastIndex, m.index)].concat(styles));\n                }\n\n                cb.apply(replacedOutput, [styles].concat(m));\n                first = false;\n                lastIndex = m.index + m[0].length;\n            }\n\n            if (lastIndex === 0) {\n                var lastLine;\n                if (replacedOutput.output.length === 0) {\n                    lastLine = replacedOutput.output[0] = [];\n                } else {\n                    lastLine = replacedOutput.output[replacedOutput.output.length - 1];\n                }\n\n                lastLine.push(outputEntry);\n            } else if (lastIndex < text.length) {\n                replacedOutput.text.apply(replacedOutput, [text.substring(lastIndex, text.length)].concat(styles));\n            }\n        }, this);\n    }, this);\n\n    return replacedOutput.output.map(normalizeLine);\n}\n\nMagicPen.prototype.isEmpty = function () {\n    return this.output.length === 1 && this.output[0].length === 0;\n};\n\nMagicPen.prototype.replaceText = function (regexp, cb) {\n    if (this.isEmpty()) {\n        return this;\n    }\n\n    if (typeof regexp === 'string') {\n        regexp = new RegExp(utils.escapeRegExp(regexp), 'g');\n    }\n\n    if (typeof cb === 'string') {\n        var text = cb;\n        cb = function (styles, _) {\n            var args = [text].concat(styles);\n            this.text.apply(this, args);\n        };\n    }\n\n\n    if (arguments.length === 1) {\n        cb = regexp;\n        regexp = /.*/;\n    }\n\n    this.output = replaceText(this.clone(), this.output, regexp, cb);\n\n    return this;\n};\n\nMagicPen.prototype.theme = function (format) {\n    format = format || this.format;\n    if (!format) {\n        throw new Error(\"Could not detect which format you want to retrieve \" +\n                        \"theme information for. Set the format of the pen or \" +\n                        \"provide it as an argument to the theme method.\");\n    }\n\n    return this._themes[format];\n};\n\nMagicPen.prototype.installTheme = function (formats, theme) {\n    var that = this;\n    if (arguments.length === 1) {\n        theme = formats;\n        formats = Object.keys(MagicPen.serializers);\n    }\n\n    if (typeof formats === 'string') {\n        formats = [formats];\n    }\n\n    if (\n        typeof theme !== 'object' ||\n        !Array.isArray(formats) ||\n        formats.some(function (format) {\n            return typeof format !== 'string';\n        })\n    ) {\n        throw new Error(\"Themes must be installed the following way:\\n\" +\n                        \"Install theme for all formats: pen.installTheme({ comment: 'gray' })\\n\" +\n                        \"Install theme for a specific format: pen.installTheme('ansi', { comment: 'gray' }) or\\n\" +\n                        \"Install theme for a list of formats: pen.installTheme(['ansi', 'html'], { comment: 'gray' })\");\n    }\n\n    if (!theme.styles || typeof theme.styles !== 'object') {\n        theme = {\n            styles: theme\n        };\n    }\n\n    if (that._themesHaveNotBeenClonedYet) {\n        var clonedThemes = {};\n        Object.keys(that._themes).forEach(function (format) {\n            clonedThemes[format] = Object.create(that._themes[format]);\n        });\n        that._themes = clonedThemes;\n        that._themesHaveNotBeenClonedYet = false;\n    }\n\n    Object.keys(theme.styles).forEach(function (themeKey) {\n        if (rgbRegexp.test(themeKey) || cssStyles[themeKey]) {\n            throw new Error(\"Invalid theme key: '\" + themeKey + \"' you can't map build styles.\");\n        }\n\n        if (!that[themeKey]) {\n            that.addStyle(themeKey, function (content) {\n                this.text(content, themeKey);\n            });\n        }\n    });\n\n    formats.forEach(function (format) {\n        var baseTheme = that._themes[format] || { styles: {} };\n        var extendedTheme = extend({}, baseTheme, theme);\n        extendedTheme.styles = extend({}, baseTheme.styles, theme.styles);\n        that._themes[format] = extendedTheme;\n    });\n\n\n    return this;\n};\n\nmodule.exports = MagicPen;\n"],"names":["global","platform","env","duplicateText","utils","flattenBlocksInLines","cssStyles","pow","diff","color_convert","color_diff","ansiStyles","require$$0","TextSerializer","colorDiff","require$$1","require$$2","require$$3","require$$4"],"mappings":"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"}